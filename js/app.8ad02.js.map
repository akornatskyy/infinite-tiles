{"version":3,"file":"js/app.8ad02.js","mappings":"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","sources":["webpack://infinite-tiles/./app/api/mock.js","webpack://infinite-tiles/./app/assets.js","webpack://infinite-tiles/./app/assets/sphere.js","webpack://infinite-tiles/./app/game.js","webpack://infinite-tiles/./app/loader.js","webpack://infinite-tiles/./app/screens/demo-controller.js","webpack://infinite-tiles/./app/screens/demo.js","webpack://infinite-tiles/./app/screens/map-renderer.js","webpack://infinite-tiles/./index.js","webpack://infinite-tiles/./static/sphere.png","webpack://infinite-tiles/./static/tiles.png","webpack://infinite-tiles/webpack/bootstrap","webpack://infinite-tiles/webpack/runtime/chunk loaded","webpack://infinite-tiles/webpack/runtime/compat get default export","webpack://infinite-tiles/webpack/runtime/define property getters","webpack://infinite-tiles/webpack/runtime/global","webpack://infinite-tiles/webpack/runtime/hasOwnProperty shorthand","webpack://infinite-tiles/webpack/runtime/make namespace object","webpack://infinite-tiles/webpack/runtime/publicPath","webpack://infinite-tiles/webpack/runtime/jsonp chunk loading","webpack://infinite-tiles/webpack/before-startup","webpack://infinite-tiles/webpack/startup","webpack://infinite-tiles/webpack/after-startup"],"sourcesContent":["import EventEmitter from 'events';\r\n\r\nconst toxic = f => setTimeout(f, 750 + Math.random() * 500);\r\nconst newid = () => Math.random().toString(36).substring(2);\r\n\r\nexport default class MockAPI {\r\n  constructor() {\r\n    this.eventEmitter = new EventEmitter();\r\n    this.ready = false;\r\n    this.controller = new Controller(this.eventEmitter);\r\n  }\r\n\r\n  connect() {\r\n    this.ready = true;\r\n    this.eventEmitter.emit('open');\r\n  }\r\n\r\n  isReady() {\r\n    return this.ready;\r\n  }\r\n\r\n  on(eventName, listener) {\r\n    this.eventEmitter.on(eventName, listener);\r\n  }\r\n\r\n  send(p) {\r\n    console.log('api > send: %o', p);\r\n    switch (p.t) {\r\n      case 'ping':\r\n        this.controller.ping(p);\r\n        break;\r\n      case 'tiles':\r\n        toxic(() => this.controller.tiles(p));\r\n        break;\r\n      case 'place':\r\n        this.controller.place(p);\r\n        break;\r\n      case 'move':\r\n        this.controller.move(p);\r\n        break;\r\n      default:\r\n        console.warn('api > send: unknown packet [' + p.t + ']');\r\n    }\r\n  }\r\n}\r\n\r\nclass Controller {\r\n  constructor(eventEmitter) {\r\n    this.eventEmitter = eventEmitter;\r\n    this.objects = [];\r\n    setTimeout(() => setInterval(this.recycle.bind(this), 1000), 5000);\r\n  }\r\n\r\n  ping(p) {\r\n    this.eventEmitter.emit('pong', {\r\n      tc: p.time,\r\n      ts: Date.now() / 1000.0\r\n    });\r\n  }\r\n\r\n  tiles(p) {\r\n    const coords = p.coords;\r\n    if (!coords) {\r\n      return;\r\n    }\r\n\r\n    const [, ymin] = p.area;\r\n    const data = [];\r\n    for (let i = 1; i < coords.length; i += 2) {\r\n      const y = ymin + coords[i];\r\n      data.push(Math.abs(y) % 2);\r\n    }\r\n\r\n    this.eventEmitter.emit('tiles', {\r\n      ref: p.ref,\r\n      data: data\r\n    });\r\n  }\r\n\r\n  place(p) {\r\n    const id = newid();\r\n    this.objects.push(id);\r\n    this.eventEmitter.emit('place', {\r\n      objects: [{\r\n        id: id,\r\n        x: p.x,\r\n        y: p.y\r\n      }]\r\n    });\r\n  }\r\n\r\n  move(p) {\r\n    const id = p.id;\r\n    const index = this.objects.indexOf(id);\r\n    if (index >= 0) {\r\n      this.objects.splice(index, 1);\r\n    }\r\n\r\n    const ts = Date.now();\r\n    const t = Math.floor(ts / 1000.0);\r\n    const duration = 1 + Math.floor(Math.random() * 5);\r\n    this.eventEmitter.emit('move', {\r\n      objects: [{\r\n        id: id,\r\n        x: p.x,\r\n        y: p.y,\r\n        time: t + 1,\r\n        duration: duration\r\n      }]\r\n    });\r\n    setTimeout(() => {\r\n      this.objects.push(id);\r\n      this.eventEmitter.emit('moved', {\r\n        id: id\r\n      });\r\n    },\r\n    duration * 1000 + (ts - t * 1000));\r\n  }\r\n\r\n  recycle() {\r\n    if (this.objects.length === 0) {\r\n      return;\r\n    }\r\n\r\n    const n = Math.floor(Math.random() * 3);\r\n    if (n === 0) {\r\n      return;\r\n    }\r\n\r\n    this.eventEmitter.emit('remove', {\r\n      objects: this.objects.splice(0, n)\r\n    });\r\n  }\r\n}\r\n","import Loader from './loader';\r\nimport Tiles from '../static/tiles.png';\r\nimport Sphere from '../static/sphere.png';\r\n\r\nexport default class Assets {\r\n  static load(callback) {\r\n    const resources = [{\r\n      name: 'tiles',\r\n      url: Tiles\r\n    }, {\r\n      name: 'sphere',\r\n      url: Sphere\r\n    }];\r\n    const loader = new Loader(resources, this);\r\n    loader.load(callback);\r\n  }\r\n}\r\n","import Rectangle from '../../lib/math/rectangle';\r\n\r\nimport {\r\n  StaggeredTileRenderer\r\n} from '../../lib/staggered-map/renderer';\r\nimport {\r\n  moverMixin\r\n} from '../../lib/staggered-map/mixins';\r\n\r\nimport Assets from '../assets';\r\n\r\nexport default class Sphere extends moverMixin(StaggeredTileRenderer) {\r\n  constructor(ctx, viewport, tile) {\r\n    super(viewport, tile, new Rectangle(\r\n        (viewport.world.tileSize.width - Assets.sphere.width) / 2,\r\n        (viewport.world.tileSize.height - Assets.sphere.height) / 2,\r\n        Assets.sphere.width, Assets.sphere.height));\r\n    this.ctx = ctx;\r\n  }\r\n\r\n  drawTile(x, y) {\r\n    if (this.moving) {\r\n      this.ctx.drawImage(Assets.sphere, x, y);\r\n    } else {\r\n      const alpha = this.ctx.globalAlpha;\r\n      this.ctx.globalAlpha = 0.9;\r\n      this.ctx.drawImage(Assets.sphere, x, y);\r\n      this.ctx.globalAlpha = alpha;\r\n    }\r\n  }\r\n}\r\n","import Api from 'api';\r\n\r\nimport Assets from './assets';\r\n\r\nconst now = () => Date.now() / 1000.0;\r\n\r\nexport default class Game {\r\n  constructor(canvas) {\r\n    this.canvas = canvas;\r\n    this.ctx = canvas.getContext('2d');\r\n    this.ts = 0;\r\n    this.delta = 0;\r\n    this.render = this.render.bind(this);\r\n    this.ping = this.ping.bind(this);\r\n    this.api = new Api();\r\n    this.api.on('open', this.onopen.bind(this));\r\n    this.api.on('close', this.onclose.bind(this));\r\n    this.api.on('pong', this.onpong.bind(this));\r\n  }\r\n\r\n  start() {\r\n    if (!this.screen) {\r\n      throw new Error('screen is not set');\r\n    }\r\n\r\n    Assets.load(() => this.api.connect());\r\n  }\r\n\r\n  render(ts) {\r\n    const delta = (ts - this.ts) / 1000.0;\r\n    this.ts = ts;\r\n    if (delta > 0.06) {\r\n      console.warn('game > render : delta = %s', delta);\r\n    }\r\n\r\n    this.screen.render(delta);\r\n    this.requestId = window.requestAnimationFrame(this.render);\r\n  }\r\n\r\n  onopen() {\r\n    this.ping();\r\n    this.timer = setInterval(this.ping, 10000);\r\n    window.requestAnimationFrame(ts => {\r\n      this.ts = ts;\r\n      this.render(ts);\r\n    });\r\n  }\r\n\r\n  onclose() {\r\n    window.cancelAnimationFrame(this.requestId);\r\n    this.requestId = null;\r\n    clearInterval(this.timer);\r\n    this.timer = null;\r\n  }\r\n\r\n  ping() {\r\n    this.api.send({\r\n      t: 'ping',\r\n      time: now()\r\n    });\r\n  }\r\n\r\n  onpong(p) {\r\n    console.log('game > onpong: %o', p);\r\n    const t = now();\r\n    const roundtrip = t - p.tc;\r\n    const latency = roundtrip / 2;\r\n    const delta = p.ts - t;\r\n    this.delta = delta + latency;\r\n\r\n    console.log('game > latency: %sms; delta: %ss',\r\n        (latency * 1000).toFixed(1), this.delta.toFixed(6));\r\n  }\r\n}\r\n","export default class Loader {\r\n  constructor(resources, owner=null) {\r\n    this.resources = resources;\r\n    this.owner = owner || {};\r\n  }\r\n\r\n  load(callback) {\r\n    let n = this.resources.length;\r\n    for (const r of this.resources) {\r\n      const img = new Image();\r\n      this.owner[r.name] = img;\r\n      img.onload = () => {\r\n        if (--n == 0) {\r\n          callback(this, this.owner);\r\n        }\r\n      };\r\n\r\n      img.src = r.url;\r\n    }\r\n  }\r\n}\r\n","import Vector from '../../lib/math/vector';\r\n\r\nclass Spring {\r\n  constructor(options) {\r\n    this.pos = options.pos;\r\n    this.k = options.k; // spring constant\r\n    this.b = options.b; // viscous damping coefficient\r\n    this.l = options.l; // spring length at rest\r\n    this.velocity = new Vector();\r\n  }\r\n\r\n  update(delta) {\r\n    if (delta > 0.06) {\r\n      delta = 0.06;\r\n    }\r\n\r\n    const x = this.pos.x;\r\n    const y = this.pos.y;\r\n    const l = Math.sqrt(x * x + y * y);\r\n    const s = l - this.l;\r\n    let kx = 0;\r\n    let ky = 0;\r\n    if (s > 0) {\r\n      const k = this.k * s / l;\r\n      kx = k * x;\r\n      ky = k * y;\r\n    }\r\n\r\n    this.velocity.x += delta * (kx + this.b * this.velocity.x);\r\n    this.velocity.y += delta * (ky + this.b * this.velocity.y);\r\n\r\n    this.pos.scaleAndAdd(this.velocity, delta);\r\n  }\r\n}\r\n\r\nexport default class DemoController {\r\n  constructor(screen) {\r\n    this.screen = screen;\r\n    this.viewport = screen.map.viewport;\r\n    this.placeOrMove = this.placeOrMove.bind(this);\r\n    this.applyForce = this.applyForce.bind(this);\r\n\r\n    this.api = screen.api;\r\n    this.api.on('open', this.onopen.bind(this));\r\n    this.api.on('close', this.onclose.bind(this));\r\n\r\n    this.spring = new Spring({\r\n      pos: this.viewport.position,\r\n      k: -0.25,\r\n      b: -0.05,\r\n      l: 128 * 4\r\n    });\r\n  }\r\n\r\n  onopen() {\r\n    this.forceTimer = setInterval(this.applyForce, 3000);\r\n    setTimeout(() => {\r\n      this.timer = setInterval(this.placeOrMove, 150);\r\n    }, 2000);\r\n  }\r\n\r\n  onclose() {\r\n    clearInterval(this.timer);\r\n    clearInterval(this.forceTimer);\r\n    this.timer = null;\r\n  }\r\n\r\n  update(delta) {\r\n    this.spring.update(delta);\r\n  }\r\n\r\n  applyForce() {\r\n    const v = this.spring.velocity;\r\n    v.x += Math.random() * 101 - 50;\r\n    v.y += Math.random() * 101 - 50;\r\n  }\r\n\r\n  placeOrMove() {\r\n    const tiles = this.screen.map.tiles;\r\n    const objects = this.screen.objects;\r\n    const x = Math.floor(Math.random() * tiles.width + 1) + tiles.left;\r\n    const y = Math.floor(Math.random() * tiles.height + 1) + tiles.top;\r\n    if (objects.find(\r\n        o => (!o.moving && o.tile.x === x && o.tile.y === y) ||\r\n        (o.moving && o.target.x === x && o.target.y === y))) {\r\n      return;\r\n    }\r\n\r\n    if (objects.length < tiles.width * tiles.height / 2) {\r\n      this.api.send({\r\n        t: 'place',\r\n        x: x,\r\n        y: y\r\n      });\r\n    } else {\r\n      const o = objects[Math.floor(Math.random() * objects.length)];\r\n      if (!o.moving) {\r\n        this.api.send({\r\n          t: 'move',\r\n          id: o.id,\r\n          x: x,\r\n          y: y\r\n        });\r\n      }\r\n    }\r\n  }\r\n}\r\n","import Rectangle from '../../lib/math/rectangle';\r\nimport StaggeredMap from '../../lib/staggered-map';\r\nimport {\r\n  StaggeredMapRenderer\r\n} from '../../lib/staggered-map/renderer';\r\nimport draggable from '../../lib/draggable';\r\n\r\nimport Sphere from '../assets/sphere';\r\nimport DemoController from './demo-controller';\r\nimport MapRenderer from './map-renderer';\r\n\r\n\r\nconst TILE_SIZE = {\r\n  width: 128,\r\n  halfWidth: 64,\r\n  height: 64,\r\n  halfHeight: 32\r\n};\r\n\r\nconst BOUNDS = new Rectangle(0, 0, TILE_SIZE.width * 3, TILE_SIZE.height * 3);\r\n\r\nexport default class DemoScreen {\r\n  constructor(game, debug = true) {\r\n    this.game = game;\r\n    game.canvas.width = BOUNDS.width;\r\n    game.canvas.height = BOUNDS.height;\r\n    if (debug) {\r\n      BOUNDS.left = TILE_SIZE.width + 10;\r\n      BOUNDS.top = TILE_SIZE.height;\r\n      game.canvas.width += BOUNDS.left * 2;\r\n      game.canvas.height += BOUNDS.top * 2;\r\n    }\r\n\r\n    this.objects = [];\r\n    this.sphere = null;\r\n\r\n    this.api = game.api;\r\n    this.api.on('open', this.onopen.bind(this));\r\n    this.api.on('place', this.onplace.bind(this));\r\n    this.api.on('remove', this.onremove.bind(this));\r\n    this.api.on('move', this.onmove.bind(this));\r\n    this.api.on('moved', this.onmoved.bind(this));\r\n    this.api.on('errors', this.onerrors.bind(this));\r\n\r\n    this.map = new StaggeredMap(game.api, TILE_SIZE, BOUNDS);\r\n    this.mapRenderer = new StaggeredMapRenderer(\r\n        this.map,\r\n        new MapRenderer(game.ctx, this.map.storage, TILE_SIZE, BOUNDS, debug));\r\n\r\n    draggable(this.game.canvas).addEventListener(\r\n        'mousedrag', this.onmousedrag.bind(this));\r\n\r\n    this.controller = new DemoController(this);\r\n  }\r\n\r\n  render(delta) {\r\n    this.update(delta);\r\n    this.draw();\r\n  }\r\n\r\n  update(delta) {\r\n    this.controller.update(delta);\r\n    this.map.update();\r\n    this.objects.forEach(o => o.update(delta));\r\n  }\r\n\r\n  draw() {\r\n    this.game.ctx.clearRect(\r\n        0, 0, this.game.canvas.width, this.game.canvas.height);\r\n    this.mapRenderer.draw();\r\n    this.objects.forEach(o => o.draw());\r\n  }\r\n\r\n  onmousedrag(e) {\r\n    this.map.viewport.position.x -= e.movementX;\r\n    this.map.viewport.position.y -= e.movementY;\r\n  }\r\n\r\n  /* API callbacks */\r\n\r\n  onopen() {\r\n    this.objects = [];\r\n  }\r\n\r\n  onerrors(p) {\r\n    console.warn('demo > onerrors: %o', p.errors);\r\n  }\r\n\r\n  onplace(p) {\r\n    console.log('demo > onplace: %o', p);\r\n    p.objects.forEach(o => {\r\n      const id = o.id;\r\n      const index = this.objects.findIndex(o => o.id === id);\r\n      if (index >= 0) {\r\n        const sphere = this.objects[index];\r\n        sphere.tile.x = o.x;\r\n        sphere.tile.y = o.y;\r\n      } else {\r\n        const sphere = new Sphere(this.game.ctx, this.map.viewport, {\r\n          x: o.x,\r\n          y: o.y\r\n        });\r\n        sphere.id = o.id;\r\n        this.objects.unshift(sphere);\r\n      }\r\n    });\r\n  }\r\n\r\n  onremove(p) {\r\n    console.log('demo > onremove: %o', p);\r\n    p.objects.forEach(id => {\r\n      const index = this.objects.findIndex(o => o.id === id);\r\n      if (index >= 0) {\r\n        const sphere = this.objects.splice(index, 1)[0];\r\n        if (this.sphere === sphere) {\r\n          this.sphere = null;\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  onmove(p) {\r\n    console.log('demo > onmove: %o', p);\r\n    const ts = Date.now() / 1000.0 + this.game.delta;\r\n    p.objects.forEach(o => {\r\n      const id = o.id;\r\n      const index = this.objects.findIndex(o => o.id === id);\r\n      if (index >= 0) {\r\n        const sphere = this.objects.splice(index, 1)[0];\r\n        this.objects.push(sphere);\r\n        const elapsed = ts - o.time;\r\n        sphere.moveTo({\r\n          x: o.x,\r\n          y: o.y\r\n        }, o.duration, elapsed);\r\n      }\r\n    });\r\n  }\r\n\r\n  onmoved(p) {\r\n    console.log('demo > onmoved: %o', p);\r\n    const id = p.id;\r\n    const index = this.objects.findIndex(o => o.id === id);\r\n    if (index >= 0) {\r\n      const sphere = this.objects.splice(index, 1)[0];\r\n      this.objects.unshift(sphere);\r\n      if (this.sphere === sphere) {\r\n        this.sphere = null;\r\n      }\r\n    }\r\n  }\r\n}\r\n","import Assets from '../assets';\r\n\r\nexport default class MapRenderer {\r\n  constructor(ctx, storage, tileSize, bounds, debug) {\r\n    this.ctx = ctx;\r\n    this.storage = storage;\r\n    this.tileSize = tileSize;\r\n    this.bounds = bounds;\r\n    this.debug = debug;\r\n    if (debug) {\r\n      this.ctx.font = '12px monospace';\r\n      this.ctx.fillStyle = 'white';\r\n      this.ctx.textAlign = 'center';\r\n    }\r\n  }\r\n\r\n  begin() {}\r\n\r\n  drawTile(tx, ty, x, y) {\r\n    const index = this.storage.get(tx, ty);\r\n    if (index === null) {\r\n      console.log('map renderer > draw tile: (%s:%s) is missing', tx, ty);\r\n      return;\r\n    }\r\n\r\n    this.ctx.drawImage(\r\n        Assets.tiles,\r\n        this.tileSize.width * index, 0,\r\n        this.tileSize.width, this.tileSize.height,\r\n        x, y, this.tileSize.width, this.tileSize.height);\r\n\r\n    if (this.debug) {\r\n      this.ctx.fillText(\r\n          tx + ':' + ty,\r\n          x + this.tileSize.halfWidth,\r\n          y + this.tileSize.halfHeight + 3);\r\n    }\r\n  }\r\n\r\n  drawSelected(tx, ty, x, y) {}\r\n\r\n  end() {\r\n    if (this.debug) {\r\n      this.ctx.beginPath();\r\n      this.ctx.strokeStyle = 'red';\r\n      this.ctx.rect(\r\n          this.bounds.left, this.bounds.top,\r\n          this.bounds.width, this.bounds.height);\r\n      this.ctx.stroke();\r\n    }\r\n  }\r\n}\r\n","import Game from './app/game';\r\nimport Screen from './app/screens/demo';\r\n\r\nconst canvas = document.body.appendChild(document.createElement('canvas'));\r\nconst game = new Game(canvas);\r\n\r\ngame.screen = new Screen(game);\r\ngame.start();\r\n","export default __webpack_public_path__ + \"static/sphere.96guy.png\";","export default __webpack_public_path__ + \"static/tiles.7mDej.png\";","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) scriptUrl = scripts[scripts.length - 1].src\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl + \"../\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"app\": 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkinfinite_tiles\"] = self[\"webpackChunkinfinite_tiles\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [\"lib\"], () => (__webpack_require__(\"./index.js\")))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n",""],"names":["EventEmitter","toxic","f","setTimeout","Math","random","newid","toString","substring","MockAPI","eventEmitter","ready","controller","Controller","emit","eventName","listener","on","p","console","log","t","ping","tiles","place","move","warn","objects","setInterval","recycle","bind","tc","time","ts","Date","now","coords","area","ymin","data","i","length","y","push","abs","ref","id","x","index","indexOf","splice","floor","duration","n","Loader","Tiles","Sphere","Assets","callback","resources","name","url","loader","load","Rectangle","StaggeredTileRenderer","moverMixin","ctx","viewport","tile","world","tileSize","width","sphere","height","moving","drawImage","alpha","globalAlpha","Api","Game","canvas","getContext","delta","render","api","onopen","onclose","onpong","screen","Error","connect","requestId","window","requestAnimationFrame","timer","cancelAnimationFrame","clearInterval","send","roundtrip","latency","toFixed","owner","r","img","Image","onload","src","Vector","Spring","options","pos","k","b","l","velocity","sqrt","s","kx","ky","scaleAndAdd","DemoController","map","placeOrMove","applyForce","spring","position","forceTimer","update","v","left","top","find","o","target","StaggeredMap","StaggeredMapRenderer","draggable","MapRenderer","TILE_SIZE","halfWidth","halfHeight","BOUNDS","DemoScreen","game","debug","onplace","onremove","onmove","onmoved","onerrors","mapRenderer","storage","addEventListener","onmousedrag","draw","forEach","clearRect","e","movementX","movementY","errors","findIndex","unshift","elapsed","moveTo","bounds","font","fillStyle","textAlign","tx","ty","get","fillText","beginPath","strokeStyle","rect","stroke","Screen","document","body","appendChild","createElement","start"],"sourceRoot":""}